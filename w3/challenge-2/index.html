<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&family=Rubik:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <title>Challenge 2</title>
</head>

<!-- <body onload="myFunction()"> -->

<body>
    <div class="container-fluid">
        <div class="header">
            <input type="checkbox" id="check">
            <a href="#" class="logo">
                <img src="./images/logo.svg" alt="logo">
            </a>
            <div class="" id="nav-menu">
                <div class="nav navbar">
                    <a href="#" class="nav-link">
                        <div class="nav-item active">Products</div>
                        <img src="./images/Path 57.svg" alt="down-cross">
                    </a>
                    <a href="#" class="nav-link">
                        <div class="nav-item">Use Cases</div>
                        <img src="./images/Path 57.svg" alt="down-cross">
                    </a>
                    <a href="#" class="nav-link">
                        <div class="nav-item">Docs</div>
                        <img src="./images/Path 57.svg" alt="down-cross">
                    </a>
                    <a href="#" class="nav-link">
                        <div class="nav-item">Pricing</div>
                    </a>
                    <a href="#" class="nav-link">
                        <div class="nav-item">About us</div>
                        <img src="./images/Path 57.svg" alt="down-cross">
                    </a>
                </div>
                <div class="btn-menu">
                    <button class="btn-login">Login</button>
                    <button class="btn-getAPI">Get API keys</button>
                </div>
            </div>
            <!-- <div class="btn-menu">
                <button class="btn-login">Login</button>
                <button class="btn-getAPI">Get API keys</button>
            </div> -->
            <!-- <a href="javascript:void(0);" type="button" class="icon" onclick="toggleMenu()">
                <img src="./images/menu.svg" alt="Buton menu"></i>
            </a> -->
            <label for="check" class="checkbtn">
                <i class="fas fa-bars"></i>
            </label>
        </div>
    </div>
    <section class="content">
        <div class="container">
            <div class="mark-cover"></div>
            <div class="text-content">
                <div class="welcome">Welcome</div>
                <h1>Empowering your everyday transactions making payment processing easy</h1>
                <button class="btn-started">Get Started <img src="./images/down-arrow.svg" alt=""></button>
            </div>
        </div>
        <div class="group-card">
            <div class="card fade">
                <a href="#"><img src="./images/card1.svg"></a>
                <div>
                    <p style="font-weight:bold">Reinventing Benin City</p>
                    <p>In making payment easier we reinvented Nigeria's vibrant city.</p>
                </div>
            </div>
            <div class="card fade">
                <a href="#"><img src="./images/card2.svg"></a>
                <div>
                    <p style="font-weight:bold">The BOO Project</p>
                    <p>The Bringing Online Open (BOO) project.</p>
                </div>
            </div>
            <div class="card fade">
                <a href="#"><img src="./images/card3.svg" alt=""></a>
                <div>
                    <p style="font-weight:bold">Improved dev enviroment</p>
                    <p>Integration and use of our API has been updated (12.8)</p>
                </div>
            </div>
            <div class="card fade">
                <a href="#"><img src="./images/card1.svg"></a>
                <div>
                    <p style="font-weight:bold">Reinventing Benin City</p>
                    <p>In making payment easier we reinvented Nigeria's vibrant city.</p>
                </div>
            </div>
            <div class="card fade">
                <a href="#"><img src="./images/card2.svg"></a>
                <div>
                    <p style="font-weight:bold">The BOO Project</p>
                    <p>The Bringing Online Open (BOO) project.</p>
                </div>
            </div>
            <div class="card fade">
                <a href="#"><img src="./images/card3.svg" alt=""></a>
                <div>
                    <p style="font-weight:bold">Improved dev enviroment</p>
                    <p>Integration and use of our API has been updated (12.8)</p>
                </div>
            </div>

            <div class="next-back" style="order: 1000">
                <a onclick="back()" class="back"><img src="./images/back.svg"></a>
                <a onclick="next()" class="next"><img src="./images/next.svg"></a>
            </div>
        </div>
        <div class="rotate">
            <div class="favorite">Your favorite fintech company</div>
            <div class="power">Powered by trust</div>
        </div>
    </section>

    <script>
        var numOfSlideShowed = window.innerWidth > 600 ? 3 : 1;
        var showedIndexs = Array.from(Array(numOfSlideShowed).keys());
        var slides = document.getElementsByClassName("card"); // slides = 6
        showSlides(showedIndexs);

        var firstValue = () => showedIndexs[0];
        var lastValue = () => showedIndexs[showedIndexs.length - 1];

        function back() {
            if (numOfSlideShowed === 1) {
                showedIndexs = [firstValue() === 0 ?  slides.length - 1 : firstValue() - 1];
            }
            else {

                if (firstValue() > 0) {
                    if (firstValue() < lastValue())  //[1, 2, 3] -> [0, 1, 2]
                        showedIndexs = showedIndexs.map(showedIndex => showedIndex - 1);
                    else {   //[5, 0, 1] -> [4, 5, 0]
                        showedIndexs.pop();  // [5, 0, 1] -> [5, 0]
                        showedIndexs = [firstValue() - 1, ...showedIndexs];  // [5, 0] -> [4, 5, 0]
                    }
                }
                else if (firstValue() === 0) { //[0, 1, 2] -> [5, 0, 1]
                    showedIndexs.pop();  //[0, 1, 2] -> [0, 1]
                    showedIndexs = [slides.length - 1, ...showedIndexs];  //[0, 1] -> [5, 0, 1]
                }
            }
            console.log(showedIndexs);
            showSlides(showedIndexs);
        }

        function next() {
            if (numOfSlideShowed === 1) {
                showedIndexs = firstValue() === slides.length - 1 ? 0 : firstValue() + 1 ;
            }
            else {
                if (lastValue() < slides.length - 1) {
                    if (lastValue() > firstValue())  //[2, 3, 4] -> [3, 4, 5]
                        showedIndexs = showedIndexs.map(showedIndex => showedIndex + 1);
                    else {   //[4, 5, 0] -> [5, 0, 1]
                        showedIndexs = showedIndexs.slice(1);
                        showedIndexs = [...showedIndexs, lastValue() + 1];
                    }
                }
                else if (lastValue() === slides.length - 1) { //[3, 4, 5] -> [4, 5, 0]
                    showedIndexs = [...showedIndexs.slice(1), 0];
                }
            }
            console.log(showedIndexs);
            showSlides(showedIndexs);
        }

        function showSlides(showedList) {
            // hide all
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
                slides[i].style.order = 0;
            } 

            showedList.forEach((showedIndex, index) => {
                slides[showedIndex].style.display = "flex";
                slides[showedIndex].style.order = index;
            })
        }
    </script>
</body>

</html>