<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <title>Challenge 7</title>
</head>

<body>
    <div id="root">
        <div class="left-side">
            <div class="container">
                <div class="img-logo">
                    <a href="#"><img src="./images/Mask Group 1@2x.png" alt="logo"></a>
                </div>
                <div class="sub-menu">
                    
                    <span onclick="changeBackground('./images/bg1.jpg', '<span> Explore <br> from the <br>chef\'s menu</span>')" class="dot"></span>
                    <span onclick="changeBackground('./images/bg2.jpg', '<span> Enjoy <br> Vegetable <br> Delicacy </span>')" class="dot"></span>
                    <span onclick="changeBackground('./images/bg3.jpg', '<span> Enjoy <br> American <br> Breakfast </span>')" class="dot"></span>
                    <span onclick="changeBackground('./images/bg2.jpg', '<span> Explore <br> from the <br>chef\'s menu</span>')" class="dot"></span>
                    <span class="sub-menu-txt">Menu</span>
                </div>
            </div>
        </div>
        <div class="right-side" id="right-side"> 
            <div class="mask-cover"></div>
            <div class="container">
                <div class="menu">
                    <div>
                        <ul class="nav" id="menu">
                            <li class="nav-item"><a class="nav-link active" href="#">BUSH MEAT</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">NIGERIAN</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">TOP RATED</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">CHEF CHOICE</a></li>
                            <div>
                                <button>
                                    <img class="xIcon" onclick="closeMenu()" src="./images/x.svg" alt="menu">
                                    <img class="menuIcon" onclick="closeMenu()" src="./images/menu.svg" alt="menu">
                                </button>
                            </div>
                        </ul>
                    </div>
                    
                </div>
                <div class="txt-intro">
                    <div class="intro-heading">
                        <span> Explore <br> from the <br>chef's menu</span>
                    </div>
                    <div class="intro-lead-in">
                        <span>Where food meets man</span>
                    </div>
                </div>
                <div class="group-card">
                    <div class="order"><button>Order Meal</button></div>
                    <div class="slider">
                        <div class="card">
                            <div class="mask-cover-item"></div>
                            <div class="card-content">
                                <img src="./images/slider3.jpg" alt="meal">
                                <div class="card-intro">
                                    <div class="card-heading">Chef choice</div>
                                    <div class="card-title">Vegetable <br>Delicacy</div>
                                    <div class="txt-order">
                                        <div>Order Meal</div>
                                        <div><a href="#"><img src="./images/down-arrow.svg" alt="Next"></a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="mask-cover-item"></div>
                            <div class="card-content">
                                <img src="./images/slider2.jpg" alt="meal">
                                <div class="card-intro">
                                    <div class="card-heading">Top Rated</div>
                                    <div class="card-title">Swedish<br> Potatoes</div>
                                    <div class="txt-order">
                                        <div>Order Meal</div>
                                        <div><a href="#"><img src="./images/down-arrow.svg" alt="Next"></a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="mask-cover-item"></div>
                            <div class="card-content">
                                <img src="./images/slider1.jpg" alt="meal">
                                <div class="card-intro">
                                    <div class="card-heading">New Menu</div>
                                    <div class="card-title">American <br> Breakfast</div>
                                    <div class="txt-order">
                                        <div>Order Meal</div>
                                        <div><a href="#"><img src="./images/down-arrow.svg" alt="Next"></a></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        
                    </div>
                    <div class="btn-next">
                        <button onclick="next()">
                            <img src="./images/down-arrow.svg" alt="Next">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var menu = document.getElementById("menu");
        var links = menu.getElementsByClassName("nav-link");
        for (var i = 0; i < links.length; i++) {
            links[i].addEventListener("click", function () {
                var currentLink = document.getElementsByClassName("active");
                currentLink[0].className = currentLink[0].className.replace(" active", "");
                this.className += " active";
            });
        }
    </script>
    <script>
        function closeMenu() {
            
            var iconMenu = document.getElementsByClassName("menuIcon");
            var xMenu = document.getElementsByClassName("xIcon");
            if(iconMenu[0].style.display == "block"){
                var close = document.getElementsByClassName("nav-item");
            var count = document.getElementsByClassName("nav-item").length;
            var i;
            for (i = 0; i < count; i++) {
            close[i].style.display="block";
            }
                iconMenu[0].style.display = "none";
                xMenu[0].style.display = "block";
            }
            else{
                var close = document.getElementsByClassName("nav-item");
            var count = document.getElementsByClassName("nav-item").length;
            var i;
            for (i = 0; i < count; i++) {
            close[i].style.display="none";
            }
                iconMenu[0].style.display = "block";
                xMenu[0].style.display = "none";
            }
        }
    </script>
    <script>
        var numOfSlideShowed = window.innerWidth > 800 ? 3 :  window.innerWidth > 599 ? 2 : 1;
        var showedIndexs = Array.from(Array(numOfSlideShowed).keys());
        var slides = document.getElementsByClassName("card");
        showSlides(showedIndexs);

        var firstValue = () => showedIndexs[0];
        var lastValue = () => showedIndexs[showedIndexs.length - 1];

        function next() {
            if (numOfSlideShowed === 1) {
                showedIndexs = firstValue() === slides.length - 1 ? 0 : firstValue() + 1 ;
            }
            else {
                if (lastValue() < slides.length - 1) {
                    if (lastValue() > firstValue())  
                        showedIndexs = showedIndexs.map(showedIndex => showedIndex + 1);
                    else {   
                        showedIndexs = showedIndexs.slice(1);
                        showedIndexs = [...showedIndexs, lastValue() + 1];
                    }
                }
                else if (lastValue() === slides.length - 1) { 
                    showedIndexs = [...showedIndexs.slice(1), 0];
                }
            }
            console.log(showedIndexs);
            showSlides(showedIndexs);
        }

        function showSlides(showedList) {
            // hide all
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
                slides[i].style.order = 0;
            } 

            showedList.forEach((showedIndex, index) => {
                slides[showedIndex].style.display = "flex";
                slides[showedIndex].style.order = index;
            })
        }

    </script>
     <script>
        function changeBackground(urlTranfer, text){ 
            document.getElementById('right-side').style.backgroundImage = "url("+urlTranfer+")";
            document.querySelector('.intro-heading').innerHTML = text;
        }
    </script>
</body>

</html>